<div class="container book-list-container">
  <h1 class="page-title">üìö Book Catalog</h1>
  
  <div class="filters-container">
    <div class="filter-group search-box">
      <input 
        type="text" 
        class="form-control" 
        placeholder="Search by title, author, or ISBN..." 
        [(ngModel)]="searchTerm"
        (keyup.enter)="onSearch()">
      <button class="btn search-btn" (click)="onSearch()">üîç</button>
    </div>
    
    <div class="filter-group category-filter">
      <label for="category">Category</label>
      <select 
        id="category" 
        class="form-control" 
        [(ngModel)]="selectedCategory" 
        (change)="filterByCategory(selectedCategory)">
        <option value="">All</option>
        <option *ngFor="let category of categories" [value]="category">
          {{ category }}
        </option>
      </select>
    </div>

    <div class="filter-group sort-filter">
      <label for="sort">Sort By</label>
      <select 
        id="sort" 
        class="form-control" 
        [(ngModel)]="selectedSort" 
        (change)="applyFilters()">
        <option value="titleAsc">Title (A-Z)</option>
        <option value="titleDesc">Title (Z-A)</option>
        <option value="authorAsc">Author (A-Z)</option>
        <option value="authorDesc">Author (Z-A)</option>
        <option value="yearDesc">Year (Newest)</option>
        <option value="yearAsc">Year (Oldest)</option>
      </select>
    </div>

    <div class="filter-group availability-filter">
      <label class="checkbox-label">
        <input type="checkbox" [(ngModel)]="showAvailableOnly" (change)="applyFilters()" />
        Only Available
      </label>
    </div>
    
    <div class="filter-group clear-filter">
      <button class="btn btn-clear" (click)="clearFilters()">Clear</button>
    </div>
  </div>

  <app-loading-spinner *ngIf="isLoading"></app-loading-spinner>
  <app-alert *ngIf="error" [type]="'danger'" [message]="error"></app-alert>
  
  <div *ngIf="!isLoading && filteredBooks.length === 0" class="no-results">
    <p>No books found matching your criteria. Try adjusting your filters.</p>
    <button class="btn btn-primary" (click)="clearFilters()">Show All Books</button>
  </div>
  
  <div *ngIf="!isLoading && filteredBooks.length > 0" class="book-grid">
    <app-book-card 
      *ngFor="let book of filteredBooks" 
      [book]="book">
    </app-book-card>
  </div>
</div>
